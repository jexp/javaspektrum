package example;

import java.io.*;
import java.time.LocalDate;

/**
 * @author mh
 * @since 28.11.15
 */
public class SerializationTest {
    static class Magazine implements Serializable {
        private final static long serialVersionUID = 135L;
        Integer title;
        LocalDate date;
        int pages;

        public Magazine(String title, LocalDate date, int pages) {
            this.title = title.length();
            this.date = date;
            this.pages = pages;
        }
    }
    public static void main(String[] args) throws Exception {
        Magazine javaSpektrum = new Magazine("JavaSpektrum 6/2015", LocalDate.of(2015,11,20), 66);
/*
        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream("magazin.ser"));
        oos.writeObject(javaSpektrum);
        oos.close();
*/
        Magazine gelesen = (Magazine)new ObjectInputStream(new FileInputStream("magazin.ser")).readObject();

        assert gelesen.title.equals(javaSpektrum.title) && gelesen.date.equals(javaSpektrum.date) &&
               gelesen.pages == javaSpektrum.pages;
    }
}
